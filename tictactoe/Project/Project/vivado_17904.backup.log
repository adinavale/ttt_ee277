#-----------------------------------------------------------
# Vivado v2022.2 (64-bit)
# SW Build 3671981 on Fri Oct 14 05:00:03 MDT 2022
# IP Build 3669848 on Fri Oct 14 08:30:02 MDT 2022
# Start of session at: Sat May 13 19:45:47 2023
# Process ID: 17904
# Current directory: D:/EE277A/277A_codes/277A/tictactoe/Project/Project
# Command line: vivado.exe -gui_launcher_event rodinguilauncherevent12972 D:\EE277A\277A_codes\277A\tictactoe\Project\Project\Project.xpr
# Log file: D:/EE277A/277A_codes/277A/tictactoe/Project/Project/vivado.log
# Journal file: D:/EE277A/277A_codes/277A/tictactoe/Project/Project\vivado.jou
# Running On: DESKTOP-NEDDG6M, OS: Windows, CPU Frequency: 1800 MHz, CPU Physical cores: 4, Host memory: 8458 MB
#-----------------------------------------------------------
start_gui
open_project D:/EE277A/277A_codes/277A/tictactoe/Project/Project/Project.xpr
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vek280_es:part0:1.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vek280/es/1.0/board.xml as part xcve2802-vsvh1760-2lp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vhk158_es:part0:1.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vhk158/es/1.0/board.xml as part xcvh1582-vsva3697-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk120_es:part0:1.2 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk120/es/1.2/board.xml as part xcvp1202-vsva2785-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk120_es_revb:part0:1.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk120_revb/es/1.0/board.xml as part xcvp1202-vsva2785-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:vpk180_es:part0:1.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/vpk180/es/1.0/board.xml as part xcvp1802-lsvc4072-2mp-e-s-es1 specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu208ld:part0:2.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu208ld/production/2.0/board.xml as part xczu58dr-fsvg1517-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu216ld:part0:2.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu216ld/production/2.0/board.xml as part xczu59dr-ffvf1760-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu670:part0:2.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu670/2.0/board.xml as part xczu67dr-fsve1156-2-i specified in board_part file is either invalid or not available
WARNING: [Board 49-26] cannot add Board Part xilinx.com:zcu670ld:part0:1.0 available at D:/Xilinx/Vivado/2022.2/data/xhub/boards/XilinxBoardStore/boards/Xilinx/zcu670ld/1.0/board.xml as part xczu57dr-fsve1156-2-i specified in board_part file is either invalid or not available
INFO: [Project 1-313] Project file moved from 'D:/EE277A/277A_codes/277A/Final Project/Project/Project' since last save.
INFO: [filemgmt 56-3] Default IP Output Path : Could not find the directory 'D:/EE277A/277A_codes/277A/tictactoe/Project/Project/Project.gen/sources_1'.
Scanning sources...
Finished scanning sources
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository 'D:/Xilinx/Vivado/2022.2/data/ip'.
open_project: Time (s): cpu = 00:00:39 ; elapsed = 00:00:28 . Memory (MB): peak = 1721.617 ; gain = 276.379
update_compile_order -fileset sources_1
pwd
D:/EE277A/277A_codes/277A/tictactoe/Project/Project
source update_bitstream.tcl
# if {[info procs generate_mem] eq ""} {
# 	source update_bitstream_header.tcl
# }
## proc generate_mmi {mmi_file} {
## 	#If the current open implemented design does not equal the latest implementation run, open the implemented design
## 	if {[current_run -implementation] != [current_design]} { open_run [current_run -implementation] }
## 	#Create a list of the BRAM locations in loc_list.
## 	set list_mem [get_property LOC [get_cells -hierarchical -filter { PRIMITIVE_TYPE =~ BMEM.bram.* && NAME =~ "uAHB2RAM*" }]]
## 	set loc_list {}
## 	foreach x $list_mem {
## 		lappend loc_list [string map {RAMB36_ {}} $x]
## 	}
## 	#Write the header to the .mmi file.
## 	set DataWidth "\t\t\t\t\t<DataWidth MSB=\"31\" LSB=\"0\"/>"
## 	set AddressRange "\t\t\t\t\t<AddressRange Begin=\"0\" End=\"4095\"/>"
## 	set Parity "\t\t\t\t\t<Parity ON=\"false\" NumBits=\"0\"/>"
## 	set CloseBitLane "\t\t\t\t</BitLane>"
## 	set PreBitLane "\t\t\t\t<BitLane MemType=\"RAMB36\" Placement=\""
## 	set PostBitLane "\">"
## 	set fd [open "mmi.tmp" w]
## 	puts $fd "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
## 	puts $fd "<MemInfo Version=\"1\" Minor=\"6\">"
## 	puts $fd "\t<Processor Endianness=\"Little\" InstPath=\"my_bram\">"
## 	puts $fd "\t\t<AddressSpace Name=\"memory\" Begin=\"0\" End=\"16384\">"
## 	puts $fd "\t\t\t<BusBlock>"
## 	set bString ""
## 	#Create a new BitLane object in the .mmi for each BRAM block in loc_list.
## 	foreach BitLane $loc_list {
## 		set bString ""
## 		append bString $PreBitLane $BitLane $PostBitLane
## 		puts $fd $bString
## 		puts $fd $DataWidth
## 		puts $fd $AddressRange
## 		puts $fd $Parity
## 		puts $fd $CloseBitLane
## 	}
## 	#Write the footer to the .mmi file.
## 	puts $fd "\t\t\t</BusBlock>"
## 	puts $fd "\t\t</AddressSpace>"
## 	puts $fd "\t</Processor>"
## 	puts $fd "\t<Config>"
## 	puts $fd "\t\t<Option Name=\"Part\" Val=\"xc7a100tcsg324-1\"/>"
## 	puts $fd "\t</Config>"
## 	puts $fd "\t<DRC>"
## 	puts $fd "\t\t<Rule Name=\"RDADDRCHANGE\" Val=\"false\"/>"
## 	puts $fd "\t</DRC>"
## 	puts $fd "</MemInfo>"
## 	#Move the file from mmi.tmp to bram.mmi, deleting the temporary file.
## 	close $fd
## 	file copy -force mmi.tmp bram.mmi
## 	file delete mmi.tmp
## }
## proc byteReverse {str} {
## 	set strLength [string length $str]
## 	set bytesPerString [ expr {$strLength / 2} ]
## 	set reverseString {}
## 	#Firstly, reverse the string: {0 1 2 3 4 5 6 7} -> {7 6 5 4 3 2 1 0}
## 	for {set i 0} {$i < $strLength} {incr i} {
## 		append reverseString [string index $str [expr {$strLength - $i - 1}]]
## 	}
## 	#Swap the order of the nibbles: {7 6 5 4 3 2 1 0} -> {6 7 4 5 2 3 0 1}
## 	set nibbleSwapString {}
## 	for {set i 0} {$i < $bytesPerString} {incr i} {
## 		append nibbleSwapString [string index $reverseString [expr {2*$i + 1}]]
## 		append nibbleSwapString [string index $reverseString [expr {2*$i }]]
## 	}
## 	set nibbleSwapString
## }
## proc generate_mem {data_file mem_file} {
## 	#Write the Memory Address start prefix to the .mem file
## 	set prefix "@0000"
## 	set fo [open code.tmp w]
## 	puts $fo $prefix
## 	set fi [open $data_file r] 	;#Open the file specified by data_file {code.data} for read.
## 	set bytes_per_word 4		;#Bytes per word - hardcoded to 4 (32-bit words). Used for timing when to write chunks.
## 	set ChunksDone 1			;#ChunksDone is set to <0 at EOF. Used to break out of while loop.
## 	set chunkCounter 0			;#chunkCounter counts up to 4 for each word read in. Once it reaches four the chunk is written to the mem_file.
## 	set chunkList {0 0 0 0}
## 	while {($ChunksDone >= 0)} {
## 		set ChunksDone [gets $fi line]	;#chunksDone contains the latest line of the data_file.
## 		#If the loop has reached EOF, pad the chunkList with "00000000" and write it to the output file before exiting loop.
## 		if {$ChunksDone < 0} {
## 			for {set i $chunkCounter} {$i < $bytes_per_word} {incr i} {
## 				lset chunkList $i "00000000"
## 			}
## 			#Write the padded chunk to the output file.
## 			for {set i 0} {$i < $bytes_per_word} {incr i} {
## 				set lineStr {}
## 				foreach line $chunkList {
## 					append lineStr [string index $line [expr {2*$i} ]]
## 					append lineStr [string index $line [expr {2*$i + 1} ]]
## 				}
## 				puts $fo $lineStr
## 			}
## 		#If the line was not EOF, add the reversed word to the chunkList and increment the loop indicating valid word.
## 		} else {
## 			lset chunkList $chunkCounter [byteReverse $line]
## 			incr chunkCounter
## 		}
## 		#If the number of valid words in the chunk is 4, write the chunk to memory and reset the counter.
## 		if {$chunkCounter == 4} {
## 			set chunkCounter 0
## 			# Write the full chunk to the output file.
## 			for {set i 0} {$i < $bytes_per_word} {incr i} {
## 				set lineStr {}
## 				foreach line $chunkList {
## 					append lineStr [string index $line [expr {2*$i} ]]
## 					append lineStr [string index $line [expr {2*$i + 1} ]]
## 				}
## 				puts $fo $lineStr
## 			}
## 		}
## 	}
## 	close $fi	;#Close the file objects.
## 	close $fo
## 	file copy -force code.tmp $mem_file		;#Overwrite the existing .mem with the .tmp file
## 	file delete code.tmp					;#Delete code.tmp
## }
# generate_mmi bram.mmi					;
WARNING: [Vivado 12-628] No current design set.
INFO: [Device 21-403] Loading part xc7a100tcsg324-1
Netlist sorting complete. Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.042 . Memory (MB): peak = 2104.422 ; gain = 0.000
INFO: [Netlist 29-17] Analyzing 105 Unisim elements for replacement
INFO: [Netlist 29-28] Unisim Transformation completed in 0 CPU seconds
INFO: [Project 1-479] Netlist was created with Vivado 2021.2
INFO: [Project 1-570] Preparing netlist for logic optimization
INFO: [Constraints 18-4397] Generator change detected checking ShapeConfig Enum. shapeDB will be regenerated.
INFO: [Constraints 18-5435] Cannot read file, the software version for the checkpoint (2021.2.3367213) does not match the current software version (2022.2.3671981).
  File : D:/EE277A/277A_codes/277A/tictactoe/Project/Project/Project.runs/impl_1/AHBLITE_SYS_routed/AHBLITE_SYS.xbdc.
Parsing XDC File [D:/EE277A/277A_codes/277A/tictactoe/Project/Project/Project.runs/impl_1/AHBLITE_SYS_routed/AHBLITE_SYS.xdc]
Finished Parsing XDC File [D:/EE277A/277A_codes/277A/tictactoe/Project/Project/Project.runs/impl_1/AHBLITE_SYS_routed/AHBLITE_SYS.xdc]
Reading XDEF placement.
Reading placer database...
Reading XDEF routing.
Read XDEF File: Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.763 . Memory (MB): peak = 2228.168 ; gain = 0.000
Restored from archive | CPU: 0.000000 secs | Memory: 0.000000 MB |
Finished XDEF File Restore: Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.766 . Memory (MB): peak = 2228.168 ; gain = 0.000
INFO: [Opt 31-138] Pushed 0 inverter(s) to 0 load pin(s).
Netlist sorting complete. Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.001 . Memory (MB): peak = 2625.309 ; gain = 0.000
INFO: [Project 1-111] Unisim Transformation Summary:
  A total of 6 instances were transformed.
  RAM32M => RAM32M (RAMD32(x6), RAMS32(x2)): 2 instances
  RAM32X1D => RAM32X1D (RAMD32(x2)): 4 instances

open_run: Time (s): cpu = 00:00:19 ; elapsed = 00:00:41 . Memory (MB): peak = 2738.105 ; gain = 998.270
# generate_mem code.hex code.mem			;
couldn't open "code.hex": no such file or directory
    while executing
"open $data_file r"
    (procedure "generate_mem" line 6)
    invoked from within
"generate_mem code.hex code.mem			"
    (file "update_bitstream.tcl" line 24)
source update_bitstream.tcl
# if {[info procs generate_mem] eq ""} {
# 	source update_bitstream_header.tcl
# }
# generate_mmi bram.mmi					;
# generate_mem code.hex code.mem			;
error deleting "code.tmp": permission denied
    while executing
"file delete code.tmp					"
    (procedure "generate_mem" line 49)
    invoked from within
"generate_mem code.hex code.mem			"
    (file "update_bitstream.tcl" line 24)
exit
INFO: [Common 17-206] Exiting Vivado at Sat May 13 19:57:52 2023...
